<!doctype html>

<html lang="en">

<head>

	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<meta charset="UTF-8">

	<title>Peercoin - POS calculator</title>

	<script>
		function run() {
			// Fetch the transaction information.
			var total_coins = document.getElementById('transaction_value').value;
			var transaction_age = document.getElementById('transaction_age').value;
			var simulation_time = document.getElementById('simulation_time').value;

			// Initialise the table with the basic information.
			var new_table = "<table>";
			new_table += "  <tr>";
			new_table += "    <th>Month</th>";
			new_table += "    <th>Estimated Reward</th>";
			new_table += "    <th>Estimated Total</th>";
			new_table += "  </tr>";

			// Loop through and simulate the probability.
			for (var i = 1; i <= simulation_time; i++) {
				new_table += "  <tr>";
				new_table += "    <td>" + i + "</td>";
				new_table += "    <td>" + i + "</td>";
				new_table += "    <td>" + i + "</td>";
				new_table += "  </tr>";
			};

			new_table += "</table>";
			// Write the results to the results div.
			document.getElementById('results').innerHTML = new_table;
		};

		function calculate_reward(days, coins) {
			return (days<31?0:((days*coins)*33/((365*33+8))*0.01));
		};

		function calculate_coinage(days, coins) {
			// Coinage does not accumulate until day 31.
			if (30 >= days) {
				return 0;
			};
			// Coinage reaches a maximum at day 90.
			if (90 <= days) {
				return 60 * coins;
			};
			// Otherwise, coinage is days - 30 * coins
			return (days - 30) * coins;
		};

		function is_int(value){ 
			if ((parseFloat(value) == parseInt(value)) && !isNaN(value)){
				return true;
			} else { 
				return false;
			} 
		}
	</script>

	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-46906643-4', 'peercointalk.org');
		ga('send', 'pageview');
	</script>

</head>

<body>

	<h1>Peercoin Proof Of Stake (POS) calculator</h1>

	<h2>Warnings:</h2>

	<ul>
		<li>This calculator is still under development and may contain bugs.</li>
		<li>This calculator can only provide an estimate of the interest produced, as the proof of stake process is inherently random.</li>
	</ul>
	
	<h2>Usage</h2>

	<ul>
		<li>Enter the value of a transaction sent to your address (older than 30 days), and the number of days that have passed.</li>
		<li>The first line shows you the POS reward for your custom days, 30 days (the min number of days to generate a POS block) and 90 days (the max amount of coin days you can earn on your transaction).</li>
		<li>The second line then shows you the POS reward for having not moved the coins + the POS earned from before (so your compound interest) on you initial holding.</li>
	</ul>

	<p>
		Value of Transaction (PPC): <input type ="number" id="transaction_value" value="1000"><br>
		Age of Transaction (days): <input type="number" id="transaction_age" value="30"><br>
		Time to Simulate (months): <input type="number" id="simulation_time" value="12"><br>
		<input type="button" onclick="run()" value="Calculate Estimated Reward">
	</p>

	<span id="results"></span>

	<footer>
		<a href="http://peer4commit.com/projects/5" target="_blank">Donate to the development of this project</a><br>
		<a href="http://donate.peercointalk.org" target="_blank">Donate to Peercointalk projects</a><br>
		<a href="https://github.com/FuzzyBearBTC/peercoin-POSCalculator" target="_blank">Github Source Code</a>
	</footer>

</body>

</html>
